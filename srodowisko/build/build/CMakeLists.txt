CMAKE_MINIMUM_REQUIRED( VERSION 3.0 )

IF( NOT CMAKE_BUILD_TYPE )
    SET( CMAKE_BUILD_TYPE Release )
ENDIF()

PROJECT( crawler LANGUAGES C VERSION 965 )

FIND_PACKAGE( LibXml2 REQUIRED )
FIND_PACKAGE( CURL REQUIRED )

SET( CMAKE_C_STANDARD 99 )

SET( CMAKE_VERBOSE_MAKEFILE on )

SET( CMAKE_CXX_FLAGS "-Wall -Wextra -Wpedantic -pthread -ggdb" )
SET( CMAKE_CXX_FLAGS_DEBUG "" )
SET( CMAKE_CXX_FLAGS_RELEASE "-DNDEBUG -O3 -funroll-loops" )


INCLUDE_DIRECTORIES( ${LIBXML2_INCLUDE_DIR} ${CURL_INCLUDE_DIR} )

ADD_EXECUTABLE( crawler crawler.c )
TARGET_LINK_LIBRARIES( crawler ${LIBXML2_LIBRARIES} ${CURL_LIBRARIES} )
